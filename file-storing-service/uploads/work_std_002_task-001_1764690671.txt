Анализ полного бинарного дерева поиска.
Для начала посчитаем сколько элементов будет на каждом из уровней (их количество всегда (за исключением разве что последнего уровня) будет удваиваться, так как это бинарное дерево поиска):
1 элемент
2 эл.
4 эл.
8 эл.
16 эл.
32 эл.
64 эл.
128 эл.
256 эл.
489 эл. (не 512, поскольку там всего уникальных элементов 1000 и если бы было 512, то их количество бы превышало 1000)

Теперь понимаем, что последний уровень будет заполнен совсем не до конца, а значит максимальный элемент - последний элемент предпоследнего уровня (с индексом 510). Дальше ищем элемент второй наибольший. Очевидно, что у элемента с индексом 510 нет потомков (у них были бы индексы 1021 и 1022, таких нет, потому что у нас максимальный индекс 999). Значит у элемента с индексом 510 нет потомков а есть родитель, который и будет вторым по величине элементом. Индекс этого родителя будет 254, так как это, во-первых, последний элемент пред-предпоследнего уровня, а во-вторых 2x+2=510 ==> x = 254. Теперь ищем третий наибольший элемент. Спускаемся от элемента с индексом 254 к левому ребенку, это элемент с индексом 509 (2*254+1 = 509, а также предпоследний элемент предпоследнего уровня). Проверим, что у него нет потомков (это были бы элементы с индексами 1019 и 1020, которых тоже нет), а значит элемент с индексом 509 будет третьим наибольшим элементом этого дерева, так как у него нет потомков, а единственные 2 элемента, большие него это элементы с индексами 254 и 510.
Ответ: 509
